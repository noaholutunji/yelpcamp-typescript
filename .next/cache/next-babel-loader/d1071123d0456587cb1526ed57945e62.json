{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Router from 'next/router';\nimport cookie from 'js-cookie';\nimport axios from '../../axios-order';\nimport Navbar from '../../components/Navigation/Navbar';\n\nconst Login = () => {\n  const {\n    0: username,\n    1: setUsername\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n\n  const handleUsernameChange = event => setUsername(event.target.value);\n\n  const handlePasswordChange = event => setPassword(event.target.value);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const data = {\n      username,\n      password\n    };\n    axios.post('/login', data).then(response => {\n      if (response.data) {\n        cookie.set('token', response.data.token);\n        cookie.set('user', _JSON$stringify(response.data.user));\n        Router.push('/campgrounds');\n      } else {\n        console.log('Login Error');\n      }\n    }).catch(error => {\n      console.log(error.response);\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Navbar, null), __jsx(\"div\", {\n    className: \"container\"\n  }, __jsx(\"h1\", {\n    style: {\n      textAlign: 'center'\n    }\n  }, \"Login\"), __jsx(\"div\", {\n    style: {\n      width: '30%',\n      margin: '25px auto'\n    }\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: \"username\",\n    required: true,\n    value: username,\n    onChange: handleUsernameChange\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    required: true,\n    placeholder: \"password\",\n    value: password,\n    onChange: handlePasswordChange\n  })), __jsx(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\"\n  }, \"Submit\")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/noah/Desktop/yelpcamp/src/containers/Login/Login.tsx"],"names":["React","useState","Router","cookie","axios","Navbar","Login","username","setUsername","password","setPassword","handleUsernameChange","event","target","value","handlePasswordChange","handleSubmit","preventDefault","data","post","then","response","set","token","user","push","console","log","catch","error","textAlign","width","margin"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgD,OAAhD;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;;AAEA,MAAMC,KAAK,GAAG,MAAmB;AAC/B,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BP,QAAQ,CAAS,EAAT,CAAxC;AACA,QAAM;AAAA,OAACQ,QAAD;AAAA,OAAWC;AAAX,MAA0BT,QAAQ,CAAS,EAAT,CAAxC;;AAEA,QAAMU,oBAAoB,GAAIC,KAAD,IAC3BJ,WAAW,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CADb;;AAEA,QAAMC,oBAAoB,GAAIH,KAAD,IAC3BF,WAAW,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CADb;;AAGA,QAAME,YAAY,GAAIJ,KAAD,IAA2B;AAC9CA,IAAAA,KAAK,CAACK,cAAN;AACA,UAAMC,IAAI,GAAG;AACXX,MAAAA,QADW;AAEXE,MAAAA;AAFW,KAAb;AAIAL,IAAAA,KAAK,CACFe,IADH,CACQ,QADR,EACkBD,IADlB,EAEGE,IAFH,CAEQC,QAAQ,IAAI;AAChB,UAAIA,QAAQ,CAACH,IAAb,EAAmB;AACjBf,QAAAA,MAAM,CAACmB,GAAP,CAAW,OAAX,EAAoBD,QAAQ,CAACH,IAAT,CAAcK,KAAlC;AACApB,QAAAA,MAAM,CAACmB,GAAP,CAAW,MAAX,EAAmB,gBAAeD,QAAQ,CAACH,IAAT,CAAcM,IAA7B,CAAnB;AACAtB,QAAAA,MAAM,CAACuB,IAAP,CAAY,cAAZ;AACD,OAJD,MAIO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,KAVH,EAWGC,KAXH,CAWSC,KAAK,IAAI;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAK,CAACR,QAAlB;AACD,KAbH;AAcD,GApBD;;AAsBA,SACE,4BACE,MAAC,MAAD,OADF,EAEE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AAAI,IAAA,KAAK,EAAE;AAAES,MAAAA,SAAS,EAAE;AAAb;AAAX,aADF,EAEE;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE,KAAT;AAAgBC,MAAAA,MAAM,EAAE;AAAxB;AAAZ,KACE;AAAM,IAAA,QAAQ,EAAEhB;AAAhB,KACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,UAHd;AAIE,IAAA,QAAQ,MAJV;AAKE,IAAA,KAAK,EAAET,QALT;AAME,IAAA,QAAQ,EAAEI;AANZ,IADF,CADF,EAWE;AAAK,IAAA,SAAS,EAAC;AAAf,KACE;AACE,IAAA,SAAS,EAAC,cADZ;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,WAAW,EAAC,UAJd;AAKE,IAAA,KAAK,EAAEF,QALT;AAME,IAAA,QAAQ,EAAEM;AANZ,IADF,CAXF,EAqBE;AAAQ,IAAA,SAAS,EAAC,iBAAlB;AAAoC,IAAA,IAAI,EAAC;AAAzC,cArBF,CADF,CAFF,CAFF,CADF;AAmCD,CAlED;;AAoEA,eAAeT,KAAf","sourcesContent":["import React, { useState, SyntheticEvent } from 'react';\nimport Router from 'next/router';\nimport cookie from 'js-cookie';\nimport axios from '../../axios-order';\nimport Navbar from '../../components/Navigation/Navbar';\n\nconst Login = (): JSX.Element => {\n  const [username, setUsername] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n\n  const handleUsernameChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setUsername(event.target.value);\n  const handlePasswordChange = (event: React.ChangeEvent<HTMLInputElement>) =>\n    setPassword(event.target.value);\n\n  const handleSubmit = (event: SyntheticEvent) => {\n    event.preventDefault();\n    const data = {\n      username,\n      password,\n    };\n    axios\n      .post('/login', data)\n      .then(response => {\n        if (response.data) {\n          cookie.set('token', response.data.token);\n          cookie.set('user', JSON.stringify(response.data.user));\n          Router.push('/campgrounds');\n        } else {\n          console.log('Login Error');\n        }\n      })\n      .catch(error => {\n        console.log(error.response);\n      });\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container\">\n        <h1 style={{ textAlign: 'center' }}>Login</h1>\n        <div style={{ width: '30%', margin: '25px auto' }}>\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                placeholder=\"username\"\n                required\n                value={username}\n                onChange={handleUsernameChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                className=\"form-control\"\n                type=\"password\"\n                required\n                placeholder=\"password\"\n                value={password}\n                onChange={handlePasswordChange}\n              />\n            </div>\n            <button className=\"btn btn-primary\" type=\"submit\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}